(this["webpackJsonpac-checklist"]=this["webpackJsonpac-checklist"]||[]).push([[10],{102:function(e,t,a){"use strict";var n=a(100);function r(){var e=Object(n.a)(["\n  background-color: #f8f8f0;\n  border-radius: 10px;\n  padding: 2px 5px;\n"]);return r=function(){return e},e}var i=a(101).a.div(r());t.a=i},408:function(e,t,a){"use strict";a.r(t),a.d(t,"LABELS",(function(){return ye}));var n=a(105),r=a(107),i=a(106),c=a(18),u=a(100),l=a(1),s=a.n(l),o=a(16),m=a(131),p=a.n(m),f=a(101),h=a(104),b=a.n(h),d=a(132),_=a.n(d),v=a(154),g=a(48),y=(a(135),a(111)),E=a.n(y),k=a(34),x=a(136),M=a.n(x);b.a.extend(M.a);var O=function(e){return b()(e).subtract(1,"week").format("YYYY-MM-DD")},j=a(87),w=a(400),P=a(401),S=a(137),A=a(402),T=a(403),N=function(e){var t=e.onChange,a=e.currentWeek,n=e.value,r=e.isFirstTime;return s.a.createElement(j.a,null,s.a.createElement(w.a,null,s.a.createElement(P.a,{sm:"12",md:"6"},"Daisy Mae's Turnip price in your town on\xa0",s.a.createElement("strong",null,"Sunday\xa0",b()(a).format("DD MMMM YYYY"))),s.a.createElement(P.a,{sm:"12",md:"6"},s.a.createElement(S.a,{type:"number",name:"sundayPrice",id:"sundayPrice",value:0===n?"":n,placeholder:"--",onChange:function(e){return t("price",parseInt(e.currentTarget.value,10))}}))),s.a.createElement(w.a,null,s.a.createElement(P.a,{sm:"12",md:{size:6,offset:6}},s.a.createElement(A.a,{check:!0},s.a.createElement(T.a,{check:!0},s.a.createElement(S.a,{type:"checkbox",onChange:function(e){return t("firstTime",e.currentTarget.checked)},checked:r}),"\xa0First time buying")))))};N.defaultProps={value:"",isFirstTime:!1,currentWeek:null};var L,C,I,Y,F,G=N,D=a(404),R=a(405),W=a(399),K=a(138),U=a.n(K),q=a(147),z=a.n(q),B=a(149),J=a(150),H=a(151),Q={FLUCTUATING:0,LARGE_SPIKE:1,DECREASING:2,SMALL_SPIKE:3},Z=(F={},Object(r.a)(F,Q.FLUCTUATING,(L={},Object(r.a)(L,Q.FLUCTUATING,.2),Object(r.a)(L,Q.LARGE_SPIKE,.3),Object(r.a)(L,Q.DECREASING,.15),Object(r.a)(L,Q.SMALL_SPIKE,.35),L)),Object(r.a)(F,Q.LARGE_SPIKE,(C={},Object(r.a)(C,Q.FLUCTUATING,.5),Object(r.a)(C,Q.LARGE_SPIKE,.05),Object(r.a)(C,Q.DECREASING,.2),Object(r.a)(C,Q.SMALL_SPIKE,.25),C)),Object(r.a)(F,Q.DECREASING,(I={},Object(r.a)(I,Q.FLUCTUATING,.25),Object(r.a)(I,Q.LARGE_SPIKE,.45),Object(r.a)(I,Q.DECREASING,.05),Object(r.a)(I,Q.SMALL_SPIKE,.25),I)),Object(r.a)(F,Q.SMALL_SPIKE,(Y={},Object(r.a)(Y,Q.FLUCTUATING,.45),Object(r.a)(Y,Q.LARGE_SPIKE,.25),Object(r.a)(Y,Q.DECREASING,.15),Object(r.a)(Y,Q.SMALL_SPIKE,.15),Y)),F);function V(e){return e[1]-e[0]}function X(e,t,a){return Math.min(Math.max(e,t),a)}function $(e,t){return e[0]>t[1]||e[1]<t[0]?null:[Math.max(e[0],t[0]),Math.min(e[1],t[1])]}function ee(e,t){return e[0]>t[1]||e[1]<t[0]?0:V($(e,t))}function te(e){for(var t=0,a=0,n=0;n<e.length;n++){var r=e[n],i=t+r;Math.abs(t)>=Math.abs(r)?a+=t-i+r:a+=r-i+t,t=i}return t+a}var ae=function(){function e(t,a){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Object(J.a)(this,e),this.value_start=Math.floor(t),this.value_end=Math.ceil(a);var r=[t,a],i=V(r);if(this.prob=Array(this.value_end-this.value_start),n)for(var c=0;c<this.prob.length;c++)this.prob[c]=ee(this.range_of(c),r)/i}return Object(H.a)(e,[{key:"range_of",value:function(e){return[this.value_start+e,this.value_start+e+1]}},{key:"min_value",value:function(){return this.value_start}},{key:"max_value",value:function(){return this.value_end}},{key:"normalize",value:function(){for(var e=te(this.prob),t=0;t<this.prob.length;t++)this.prob[t]/=e;return e}},{key:"range_limit",value:function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1];if((a=Math.max(a,this.min_value()))>=(n=Math.min(n,this.max_value())))return this.value_start=this.value_end=0,this.prob=[],0;a=Math.floor(a),n=Math.ceil(n);for(var r=a-this.value_start,i=n-this.value_start,u=r;u<i;u++)this.prob[u]*=ee(this.range_of(u),e);return this.prob=this.prob.slice(r,i),this.value_start=a,this.value_end=n,this.normalize()}},{key:"decay",value:function(e,t){e=Math.round(e),t=Math.round(t);for(var a=function(e){for(var t=[[0,0]],a=0,n=0,r=0;r<e.length;r++){var i=e[r],c=a+i;Math.abs(a)>=Math.abs(i)?n+=a-c+i:n+=i-c+a,a=c,t.push([a,n])}return t}(this.prob),n=this.prob.length,r=t-e,i=Array(this.prob.length+r),c=0;c<i.length;c++){var u=Math.max(0,c-r),l=Math.min(n-1,c),s=[a[l+1][0],a[l+1][1],-a[u][0],-a[u][1]];u===c-r&&s.push(-this.prob[u]/2),l===c&&s.push(-this.prob[l]/2),i[c]=te(s)/r}this.prob=i,this.value_start-=t,this.value_end-=e}}]),e}(),ne=function(){function e(t,a,n){Object(J.a)(this,e),this.fudge_factor=0,this.prices=t,this.first_buy=a,this.previous_pattern=n}return Object(H.a)(e,[{key:"intceil",value:function(e){return Math.trunc(e+.99999)}},{key:"minimum_rate_from_given_and_base",value:function(e,t){return 1e4*(e-.99999)/t}},{key:"maximum_rate_from_given_and_base",value:function(e,t){return 1e4*(e+1e-5)/t}},{key:"rate_range_from_given_and_base",value:function(e,t){return[this.minimum_rate_from_given_and_base(e,t),this.maximum_rate_from_given_and_base(e,t)]}},{key:"get_price",value:function(e,t){return this.intceil(e*t/1e4)}},{key:"multiply_generator_probability",value:z.a.mark((function e(t,a){var n,r,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(B.a)(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return c=r.value,e.next=7,Object(i.a)({},c,{probability:c.probability*a});case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))},{key:"generate_individual_random_price",value:function(e,t,a,n,r,i){r*=1e4,i*=1e4;for(var c=e[0],u=[r,i],l=1,s=a;s<a+n;s++){var o=this.get_price(r,c),m=this.get_price(i,c);if(!isNaN(e[s])){if(e[s]<o-this.fudge_factor||e[s]>m+this.fudge_factor)return 0;l*=ee(u,this.rate_range_from_given_and_base(X(e[s],o,m),c))/V(u),o=e[s],m=e[s]}t.push({min:o,max:m})}return l}},{key:"generate_decreasing_random_price",value:function(e,t,a,n,r,i,c,u){r*=1e4,i*=1e4,c*=1e4,u*=1e4;for(var l=e[0],s=new ae(r,i),o=1,m=a;m<a+n;m++){var p=this.get_price(s.min_value(),l),f=this.get_price(s.max_value(),l);if(!isNaN(e[m])){if(e[m]<p-this.fudge_factor||e[m]>f+this.fudge_factor)return 0;var h=this.rate_range_from_given_and_base(X(e[m],p,f),l);if(0==(o*=s.range_limit(h)))return 0;p=e[m],f=e[m]}t.push({min:p,max:f}),s.decay(c,u)}return o}},{key:"generate_peak_price",value:function(e,t,a,n,r){var i=this;n*=1e4,r*=1e4;var u=e[0],l=1,s=[n,r],o=e[a+1];if(!isNaN(o)){var m=this.get_price(n,u),p=this.get_price(r,u);if(o<m-this.fudge_factor||o>p+this.fudge_factor)return 0;var f=this.rate_range_from_given_and_base(X(o,m,p),u);if(0==(l*=ee(s,f)/V(s)))return 0;s=$(s,f)}for(var h=e[a],b=e[a+2],d=function(){var e=v[_];if(isNaN(e))return"continue";var t=i.get_price(n,u)-1,a=i.get_price(s[1],u)-1;if(e<t-i.fudge_factor||e>a+i.fudge_factor)return{v:0};var r=i.rate_range_from_given_and_base(X(e,t,a)+1,u),o=function(e,t){return e<=0?0:t<e?t:e-e*(Math.log(e)-Math.log(t))},m=s,p=Object(c.a)(m,2),f=p[0],h=p[1],b=n,d=f-b,g=h-b,y=function(e){return(o(e-b,g)-o(e-b,d))/(g-d)};return 0==(l*=y(r[1])-y(r[0]))?{v:0}:void 0},_=0,v=[h,b];_<v.length;_++){var g=d();switch(g){case"continue":continue;default:if("object"===typeof g)return g.v}}var y=this.get_price(n,u)-1,E=this.get_price(r,u)-1;return isNaN(e[a])||(y=e[a],E=e[a]),t.push({min:y,max:E}),y=t[a].min,E=this.get_price(r,u),isNaN(e[a+1])||(y=e[a+1],E=e[a+1]),t.push({min:y,max:E}),y=this.get_price(n,u)-1,E=t[a+1].max-1,isNaN(e[a+2])||(y=e[a+2],E=e[a+2]),t.push({min:y,max:E}),l}},{key:"generate_pattern_0_with_lengths",value:z.a.mark((function e(t,a,n,r,i,c){var u,l,s,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=t[0],l=[{min:u,max:u},{min:u,max:u}],s=1,0!=(s*=this.generate_individual_random_price(t,l,2,a,.9,1.4))){e.next=6;break}return e.abrupt("return");case 6:if(0!=(s*=this.generate_decreasing_random_price(t,l,2+a,n,.6,.8,.04,.1))){e.next=9;break}return e.abrupt("return");case 9:if(0!=(s*=this.generate_individual_random_price(t,l,2+a+n,r,.9,1.4))){e.next=12;break}return e.abrupt("return");case 12:if(0!=(s*=this.generate_decreasing_random_price(t,l,2+a+n+r,i,.6,.8,.04,.1))){e.next=15;break}return e.abrupt("return");case 15:if(2+a+n+r+i+c==14){e.next=17;break}throw new Error("Phase lengths don't add up");case 17:if(o=2+a+n+r+i,0!=(s*=this.generate_individual_random_price(t,l,o,14-o,.9,1.4))){e.next=21;break}return e.abrupt("return");case 21:return e.next=23,{pattern_number:0,prices:l,probability:s};case 23:case"end":return e.stop()}}),e,this)}))},{key:"generate_pattern_0",value:z.a.mark((function e(t){var a,n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=2;case 1:if(!(a<4)){e.next=16;break}n=0;case 3:if(!(n<7)){e.next=13;break}r=0;case 5:if(!(r<7-n-1+1)){e.next=10;break}return e.delegateYield(this.multiply_generator_probability(this.generate_pattern_0_with_lengths(t,n,a,7-n-r,5-a,r),.5/7/(7-n)),"t0",7);case 7:r++,e.next=5;break;case 10:n++,e.next=3;break;case 13:a++,e.next=1;break;case 16:case"end":return e.stop()}}),e,this)}))},{key:"generate_pattern_1_with_peak",value:z.a.mark((function e(t,a){var n,r,i,c,u,l;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t[0],r=[{min:n,max:n},{min:n,max:n}],i=1,0!=(i*=this.generate_decreasing_random_price(t,r,2,a-2,.85,.9,.03,.05))){e.next=6;break}return e.abrupt("return");case 6:c=[.9,1.4,2,1.4,.9,.4,.4,.4,.4,.4,.4],u=[1.4,2,6,2,1.4,.9,.9,.9,.9,.9,.9],l=a;case 9:if(!(l<14)){e.next=16;break}if(0!=(i*=this.generate_individual_random_price(t,r,l,1,c[l-a],u[l-a]))){e.next=13;break}return e.abrupt("return");case 13:l++,e.next=9;break;case 16:return e.next=18,{pattern_number:1,prices:r,probability:i};case 18:case"end":return e.stop()}}),e,this)}))},{key:"generate_pattern_1",value:z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=3;case 1:if(!(a<10)){e.next=6;break}return e.delegateYield(this.multiply_generator_probability(this.generate_pattern_1_with_peak(t,a),1/7),"t0",3);case 3:a++,e.next=1;break;case 6:case"end":return e.stop()}}),e,this)}))},{key:"generate_pattern_2",value:z.a.mark((function e(t){var a,n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t[0],n=[{min:a,max:a},{min:a,max:a}],r=1,0!=(r*=this.generate_decreasing_random_price(t,n,2,12,.85,.9,.03,.05))){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,{pattern_number:2,prices:n,probability:r};case 8:case"end":return e.stop()}}),e,this)}))},{key:"generate_pattern_3_with_peak",value:z.a.mark((function e(t,a){var n,r,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t[0],r=[{min:n,max:n},{min:n,max:n}],i=1,0!=(i*=this.generate_decreasing_random_price(t,r,2,a-2,.4,.9,.03,.05))){e.next=6;break}return e.abrupt("return");case 6:if(0!=(i*=this.generate_individual_random_price(t,r,a,2,.9,1.4))){e.next=9;break}return e.abrupt("return");case 9:if(0!=(i*=this.generate_peak_price(t,r,a+2,1.4,2))){e.next=12;break}return e.abrupt("return");case 12:if(!(a+5<14)){e.next=16;break}if(0!=(i*=this.generate_decreasing_random_price(t,r,a+5,14-(a+5),.4,.9,.03,.05))){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,{pattern_number:3,prices:r,probability:i};case 18:case"end":return e.stop()}}),e,this)}))},{key:"generate_pattern_3",value:z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=2;case 1:if(!(a<10)){e.next=6;break}return e.delegateYield(this.multiply_generator_probability(this.generate_pattern_3_with_peak(t,a),1/8),"t0",3);case 3:a++,e.next=1;break;case 6:case"end":return e.stop()}}),e,this)}))},{key:"get_transition_probability",value:function(e){return"undefined"===typeof e||Number.isNaN(e)||null===e||e<0||e>3?[4530/13082,3236/13082,1931/13082,3385/13082]:Z[e]}},{key:"generate_all_patterns",value:z.a.mark((function e(t,a){var n,r,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[this.generate_pattern_0,this.generate_pattern_1,this.generate_pattern_2,this.generate_pattern_3],r=this.get_transition_probability(a),i=0;case 3:if(!(i<4)){e.next=8;break}return e.delegateYield(this.multiply_generator_probability(n[i].bind(this)(t),r[i]),"t0",5);case 5:i++,e.next=3;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:"generate_possibilities",value:z.a.mark((function e(t,a,n){var r,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a&&!isNaN(t[0])){e.next=15;break}r=90;case 2:if(!(r<=110)){e.next=13;break}if((i=t.slice())[0]=i[1]=r,!a){e.next=9;break}return e.delegateYield(this.generate_pattern_3(i),"t0",7);case 7:e.next=10;break;case 9:return e.delegateYield(this.generate_all_patterns(i,n),"t1",10);case 10:r++,e.next=2;break;case 13:e.next=16;break;case 15:return e.delegateYield(this.generate_all_patterns(t,n),"t2",16);case 16:case"end":return e.stop()}}),e,this)}))},{key:"analyze_possibilities",value:function(){for(var e=this.prices,t=this.first_buy,a=this.previous_pattern,r=[],i=0;i<6&&(this.fudge_factor=i,!((r=Array.from(this.generate_possibilities(e,t,a))).length>0));i++);var c,u=r.reduce((function(e,t){return e+t.probability}),0),l=Object(B.a)(r);try{for(l.s();!(c=l.n()).done;){c.value.probability/=u}}catch(A){l.e(A)}finally{l.f()}var s,o=Object(B.a)(r);try{for(o.s();!(s=o.n()).done;){var m,p=s.value,f=[],h=[],b=Object(B.a)(p.prices.slice(2));try{for(b.s();!(m=b.n()).done;){var d=m.value;d.min!==d.max?(f.push(d.min),h.push(d.max)):(f=[],h=[])}}catch(A){b.e(A)}finally{b.f()}f.length||h.length||(f.push(p.prices[p.prices.length-1].min),h.push(p.prices[p.prices.length-1].max)),p.weekGuaranteedMinimum=Math.max.apply(Math,Object(n.a)(f)),p.weekMax=Math.max.apply(Math,Object(n.a)(h))}}catch(A){o.e(A)}finally{o.f()}for(var _={},v=function(){var e=y[g];_[e]=r.filter((function(t){return t.pattern_number==e})).map((function(e){return e.probability})).reduce((function(e,t){return e+t}),0)},g=0,y=[0,1,2,3];g<y.length;g++)v();var E,k=Object(B.a)(r);try{for(k.s();!(E=k.n()).done;){var x=E.value;x.category_total_probability=_[x.pattern_number]}}catch(A){k.e(A)}finally{k.f()}r.sort((function(e,t){return t.category_total_probability-e.category_total_probability||t.probability-e.probability}));for(var M=[],O=0;O<14;O++){var j,w={min:999,max:0},P=Object(B.a)(r);try{for(P.s();!(j=P.n()).done;){var S=j.value;S.prices[O].min<w.min&&(w.min=S.prices[O].min),S.prices[O].max>w.max&&(w.max=S.prices[O].max)}}catch(A){P.e(A)}finally{P.f()}M.push(w)}return r.unshift({pattern_number:4,prices:M,weekGuaranteedMinimum:Math.min.apply(Math,Object(n.a)(r.map((function(e){return e.weekGuaranteedMinimum})))),weekMax:Math.max.apply(Math,Object(n.a)(r.map((function(e){return e.weekMax}))))}),r}}]),e}();function re(){var e=Object(u.a)(["\n  cursor: pointer;\n\n  ","\n\n  td {\n    text-align: center;\n  }\n\n  span.lowest-price {\n    color: #ffc107;\n    font-weight: bold;\n  }\n\n  span.highest-price {\n    color: #28a745;\n    font-weight: bold;\n  }\n\n"]);return re=function(){return e},e}var ie=["Fluctuating","Large spike","Decreasing","Small spike","All patterns"],ce=f.a.tr(re(),(function(e){return e.selected&&"\n  background-color: #f0e8c0;\n  "})),ue=function(e){var t=e.buyPrice,a=e.sellPrices,r=e.displayEstimate,c=e.isFirstTime,u=e.selectedLines,l=e.lastWeekPattern,o=function(e){return Number.isFinite(e)?"".concat((100*e).toPrecision(3),"%"):"\u2014"},m=0===t?NaN:t,p=[m,m].concat(Object(n.a)(a));if(p.every((function(e){return!e})))return null;var f=new ne(p,c,Q[l]||-1).analyze_possibilities();return s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",null,"Predictions"),s.a.createElement("div",{style:{marginBottom:"20px",display:"flex",justifyContent:"center"}},s.a.createElement(R.a,{horizontal:"lg"},function(e){var t="";return e.reduce((function(e,a){if(t!==a.pattern_number){if(t=a.pattern_number,!a.category_total_probability)return Object(n.a)(e);var r=s.a.createElement(D.a,{key:a.pattern_number},"".concat(ie[a.pattern_number],": ").concat(o(a.category_total_probability)));return[].concat(Object(n.a)(e),[r])}return Object(n.a)(e)}),[])}(f))),s.a.createElement(W.a,{size:"sm",hover:!0,responsive:!0},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Pattern"),s.a.createElement("th",null,"%"),s.a.createElement("th",null,"Sunday"),s.a.createElement("th",{colSpan:"2"},"Monday"),s.a.createElement("th",{colSpan:"2"},"Tuesday"),s.a.createElement("th",{colSpan:"2"},"Wednesday"),s.a.createElement("th",{colSpan:"2"},"Thursday"),s.a.createElement("th",{colSpan:"2"},"Friday"),s.a.createElement("th",{colSpan:"2"},"Saturday"),s.a.createElement("th",null,"Guaranteed Min"),s.a.createElement("th",null,"Potential Max"))),s.a.createElement("tbody",null,function(e){return e.map((function(e){var t=e.prices.slice(2).reduce((function(e,t){return{mins:[].concat(Object(n.a)(e.mins),[t.min]),maxs:[].concat(Object(n.a)(e.maxs),[t.max])}}),{mins:[],maxs:[]}),a=t.mins,c=t.maxs,l=e.prices.slice(1),m=JSON.stringify(e.prices),p=-1!==u.findIndex((function(e){return e.key===m}));return s.a.createElement(ce,{onClick:function(){return function(e,t,a){r(e,t,a)}(m,a,c)},key:U.a.generate(),selected:p},s.a.createElement("td",null,ie[e.pattern_number]),s.a.createElement("td",null,o(e.probability)),function(e){var t=e.reduce((function(e,t){var a=Object(i.a)({},e);return(!e.max||t.max>e.max)&&(a.max=t.max),(!e.min||t.min<e.min)&&(a.min=t.min),a}),{min:null,max:null}),a=t.min,n=t.max,r=function(e){var t="";return e===a?t="lowest-price":e===n&&(t="highest-price"),s.a.createElement("span",{className:t},e)};return e.map((function(e){return s.a.createElement("td",{key:U.a.generate()},e.min!==e.max?s.a.createElement(s.a.Fragment,null,r(e.min),"\xa0to\xa0",r(e.max)):r(e.min))}))}(l),s.a.createElement("td",null,e.weekGuaranteedMinimum),s.a.createElement("td",null,e.weekMax))}))}(f))))};ue.defaultProps={selectedLines:[],isFirstTime:!1,lastWeekPattern:-1};var le=ue,se=function(e){var t=e.values,a=e.savePrice,n=e.reset,r=function(e){var n=t.find((function(t){return t.when===e.trim().replace(" ","_").toLowerCase()})),r="";return n&&(r=0===n.price?"":n.price),s.a.createElement(S.a,{type:"number",name:"",id:"",placeholder:"--",value:r||"",onChange:function(t){return function(e){var t=e.field,n=e.value;a({when:t,price:parseInt(n,10)})}({field:e,value:t.currentTarget.value})}})};return s.a.createElement(s.a.Fragment,null,s.a.createElement(W.a,{borderless:!0,size:"sm",responsive:!0},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"\xa0"),s.a.createElement("th",null,"Monday"),s.a.createElement("th",null,"Tuesday"),s.a.createElement("th",null,"Wednesday"),s.a.createElement("th",null,"Thursday"),s.a.createElement("th",null,"Friday"),s.a.createElement("th",null,"Saturday"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,"AM"),s.a.createElement("td",null,r("Mon AM")),s.a.createElement("td",null,r("tue AM")),s.a.createElement("td",null,r("Wed AM")),s.a.createElement("td",null,r("Thu AM")),s.a.createElement("td",null,r("Fri AM")),s.a.createElement("td",null,r("Sat AM"))),s.a.createElement("tr",null,s.a.createElement("td",null,"PM"),s.a.createElement("td",null,r("Mon PM")),s.a.createElement("td",null,r("Tue PM")),s.a.createElement("td",null,r("Wed PM")),s.a.createElement("td",null,r("Thu PM")),s.a.createElement("td",null,r("Fri PM")),s.a.createElement("td",null,r("Sat PM"))))),s.a.createElement(j.a,{style:{textAlign:"center"}},s.a.createElement(g.a,{onClick:n},"Reset")))},oe=a(406),me=a(407),pe=a(91),fe=function(e){var t=e.quantity,a=e.pattern,n=e.sellPrice,r=e.onChange,i=e.sundayPrice,u=Object(l.useState)(!1),o=Object(c.a)(u,2),m=o[0],p=o[1],f=Object(l.useState)(null),h=Object(c.a)(f,2),b=h[0],d=h[1];Object(l.useEffect)((function(){d(n*t-i*t)}),[t,n,i]);var _=function(e){return function(t){return r({field:e,value:t.currentTarget.value})}};return s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{color:"link",onClick:function(){return p(!m)},style:{marginBottom:"1rem"}},m?"Hide results":"Show results"),s.a.createElement(pe.a,{isOpen:m},s.a.createElement(oe.a,null,s.a.createElement(me.a,null,s.a.createElement(A.a,{row:!0},s.a.createElement(T.a,{for:"qty",sm:"5"},"Quantity bought"),s.a.createElement(P.a,{sm:7},s.a.createElement(S.a,{type:"number",name:"qty",id:"qty",placeholder:"",onChange:_("quantity"),value:t}))),s.a.createElement(A.a,{row:!0},s.a.createElement(T.a,{for:"sellPrice",sm:"5"},"Sell price"),s.a.createElement(P.a,{sm:7},s.a.createElement(S.a,{type:"number",name:"sellPrice",id:"sellPrice",placeholder:"",value:n,onChange:_("sellPrice")}))),s.a.createElement(A.a,{row:!0},s.a.createElement(T.a,{for:"pattern",sm:"5"},"This week identified pattern"),s.a.createElement(P.a,{sm:7},s.a.createElement(S.a,{type:"select",name:"pattern",id:"pattern",value:a||-1,onChange:_("pattern")},s.a.createElement("option",{value:"-1"},"unknown"),Object.keys(Q).map((function(e){return s.a.createElement("option",{key:e,value:e},e.replace("_"," ").toLowerCase())}))))),b>0&&s.a.createElement(A.a,{row:!0},s.a.createElement(T.a,{for:"result",sm:5},"Total for the week"),s.a.createElement(P.a,{sm:7},s.a.createElement(S.a,{className:b>0?"text-success":"text-danger",type:"string",name:"result",id:"result",disabled:!0,value:b})))))))};fe.defaultProps={quantity:0,pattern:-1,sellPrice:0,sundayPrice:0};var he=fe,be=a(102);a(152),a(153);function de(){var e=Object(u.a)(["\n  .ct-series, .ct-point {\n    opacity: .3;\n  }\n\n  .ct-series:last-child .ct-point {\n    opacity: 1;\n    stroke: red;\n  }\n\n  .ct-series:last-child .ct-line {\n    stroke: red;\n    stroke-width: 5px;\n    stroke-dasharray: 10px 20px;\n  }\n\n  .ct-series:last-child {\n    opacity: 1;\n    stroke: red;\n  }\n"]);return de=function(){return e},e}function _e(){var e=Object(u.a)(["\n  margin: 20px;\n  "]);return _e=function(){return e},e}var ve=f.a.div(_e()),ge=f.a.div(de()),ye=["Mon AM","Mon PM","Tue AM","Tue PM","Wed AM","Wed PM","Thu AM","Thu PM","Fri AM","Fri PM","Sat AM","Sat PM"];t.default=function(){var e=Object(o.f)(),t=Object(o.g)(),a=Object(k.a)("turnips",{}),u=Object(c.a)(a,2),m=u[0],f=u[1],h=Object(l.useState)(null),d=Object(c.a)(h,2),y=d[0],x=d[1],M=Object(l.useState)(0),j=Object(c.a)(M,2),w=j[0],P=j[1],S=Object(l.useState)([]),A=Object(c.a)(S,2),T=A[0],N=A[1],L=Object(l.useState)(),C=Object(c.a)(L,2),I=C[0],Y=C[1],F=Object(l.useState)([]),D=Object(c.a)(F,2),R=D[0],W=D[1],K=Object(l.useState)(),U=Object(c.a)(K,2),q=U[0],z=U[1],B=Object(l.useState)(),J=Object(c.a)(B,2),H=J[0],Q=J[1],Z=Object(l.useState)(),V=Object(c.a)(Z,2),X=V[0],$=V[1],ee=Object(l.useState)(null),te=Object(c.a)(ee,2),ae=te[0],ne=te[1];Object(l.useEffect)((function(){var e=_.a.parse(t.search.slice(1));x(function(e){var t=b()("".concat(e,"T12:00:00.000Z"));return 0===b()(t).day()?b()(t).format("YYYY-MM-DD"):b()(t).startOf("week").format("YYYY-MM-DD")}(e.date||b()().format("YYYY-MM-DD")));var a=m[O(y)];a&&a.pattern?ne(a.pattern):ne(null);var n=m[y];n?(P(n.sundayPrice||0),N(n.graph||[]),Y(n.isFirstTime||!1),z(n.qty||0),Q(n.pattern||-1),$(n.sellPrice||0)):(P(0),N([]),Y(!1),z(0),Q(-1),$(0))}),[y,t.search,m]);var re=function(e){var t=m[y],a=Object(r.a)({},y,Object(i.a)({},t,{},e)),n=Object(i.a)({},m,{},a);f(n)},ie=function(e){return e.trim().replace(" ","_").toLowerCase()},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return ye.map((function(t){var a=T.find((function(e){return e.when===ie(t)}));return a&&a.price||e}))},ue={labels:ye,series:[].concat(Object(n.a)(R.reduce((function(e,t){var a=[];return t.min&&a.push(t.min),t.max&&a.push(t.max),[].concat(Object(n.a)(e),a)}),[])),[ce()])},oe={fullWidth:!0,chartPadding:{right:50},scaleMinSpace:20,height:"400px",onlyInteger:!0,plugins:[E.a.plugins.tooltip({anchorToPoint:!0,appendToBody:!0})]},me=function(a){var n,r=a?(n=y,b()(n).add(1,"week").format("YYYY-MM-DD")):O(y);e.push("".concat(t.pathname,"?date=").concat(r))};return s.a.createElement(be.a,null,s.a.createElement(ve,{style:{display:"flex",flexDirection:"row"}},s.a.createElement("h3",null,"My town prices"),s.a.createElement(v.a,{style:{marginLeft:"20px"}},s.a.createElement(g.a,{onClick:function(){return me(!1)},size:"sm",color:"link"},"<"," ","Previous week"),s.a.createElement(g.a,{onClick:function(){return me(!0)},size:"sm",color:"link"},"Next week"," ",">"))),s.a.createElement(ve,null,s.a.createElement(G,{onChange:function(e,t){"price"===e?(P(t),re({sundayPrice:t})):"firstTime"===e&&(Y(t),re({isFirstTime:t}))},currentWeek:y,value:w,isFirstTime:I})),s.a.createElement(ve,null,s.a.createElement(he,{onChange:function(e){var t=e.field,a=e.value,n=parseInt(a,10);switch(t){case"pattern":Q(a),re({pattern:a});break;case"quantity":z(n),re({qty:n});break;case"sellPrice":$(n),re({sellPrice:n})}},quantity:q,pattern:H,sellPrice:X,sundayPrice:w})),s.a.createElement(ve,null,s.a.createElement(se,{values:T,savePrice:function(e){var t=e.when,a=e.price,r=ie(t),i=T.findIndex((function(e){return e.when===r})),c={when:r,price:0===a?null:a,order:ye.indexOf(t)},u=Object(n.a)(T);-1===i?u.push(c):u.splice(i,1,c),N(u),re({graph:u})},reset:function(){N([]),re({graph:[]})}})),s.a.createElement(ge,null,s.a.createElement(p.a,{data:ue,type:"Line",options:oe})),s.a.createElement(ve,null,s.a.createElement(le,{buyPrice:w,sellPrices:ce(NaN),displayEstimate:function(e,t,a){var r=R.findIndex((function(t){return t.key===e}));if(-1===r){var i=[].concat(Object(n.a)(R),[{key:e,min:t,max:a}]);W(i)}else{var c=Object(n.a)(R);c.splice(r,1),W(c)}},isFirstTime:I,selectedLines:R,lastWeekPattern:ae})))}}}]);
//# sourceMappingURL=10.c7fa76f0.chunk.js.map